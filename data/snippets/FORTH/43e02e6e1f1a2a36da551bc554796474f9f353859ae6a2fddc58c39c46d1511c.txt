: POP_SQ ( n -- n^2 )
  DUP * ;
: ROTATE ( n1 n2 n3 -- n2 n3 n1 )
  OVER SWAP OVER SWAP ;
: QUICKSORT ( addr len -- )
  DUP 2 <= IF DROP EXIT THEN
  3 PICK PARSE
  2DUP < SWAP 1- SWAP
  < IF 2R@ PARSE ROT SWAP
     2R@ PARSE ROT ROT ROT
     DUP > IF ROTATE SWAP
     IF PARSE SWAP
     ELSE NIP THEN THEN THEN
     PARSE PARSE QUICKSORT
  ELSE PARSE ROT
     2 PICK PARSE QUICKSORT
     2 PICK PARSE NIP
     IF NIP 2 QUICKSORT
     ELSE NIP THEN
     SWAP PARSE
     SWAP PARSE NIP
     IF NIP QUICKSORT
     ELSE NIP THEN THEN ;