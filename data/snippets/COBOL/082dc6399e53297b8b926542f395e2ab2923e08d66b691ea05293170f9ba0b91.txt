PROGRAM-ID. SAMPLE-PROGRAM.
       IDENTIFCATION DIVISION.
       PROGRAM-ID. SAMPLE-PROGRAM.
       AUTHOR. JOHN SMITH.
       DATE-WRITTEN. 12/31/2021.
       DATE-COMPILED. 01/01/2022.

       ENVIRONMENT DIVISION.
       INPUT-OUTPUT SECTION.
       FILE-CONTROL.
           SELECT SAMPLE-FILE ASSIGN TO 'SAMPLE.DAT'
               FILE STATUS IS F-STATUS.

       DATA DIVISION.
       FILE SECTION.
       FD SAMPLE-FILE.
       01 RECORD-FORMAT.
           02 RECORD-NAME PIC X(10).
           02 RECORD-ID PIC 9(5).
           02 RECORD-AMOUNT PIC 9(7)V99.

       WORKING-STORAGE SECTION.
       01 TEMP-RECORD.
           02 TEMP-NAME PIC X(10).
           02 TEMP-ID PIC 9(5).
           02 TEMP-AMOUNT PIC 9(7)V99.
       01 COUNT PIC 99.

       PROCEDURE DIVISION.
       OPEN INPUT SAMPLE-FILE.
       OPEN OUTPUT TEMP-FILE.
       PERFORM UNTIL EOF-FLAG = 'Y'
           READ SAMPLE-FILE
           AT END
               MOVE 'Y' TO EOF-FLAG
           NOT AT END
               MOVE RECORD-FORMAT TO TEMP-RECORD
               WRITE TEMP-RECORD
               ADD 1 TO COUNT
       END-PERFORM.

       CLOSE SAMPLE-FILE, TEMP-FILE.

       DISPLAY 'TOTAL RECORDS WRITTEN: ' COUNT.

       STOP RUN.