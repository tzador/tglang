IDENTIFICATION DIVISION.
PROGRAM-ID. SAMPLE.

ENVIRONMENT DIVISION.
INPUT-OUTPUT SECTION.
FILE-CONTROL.
    SELECT INPUT-FILE ASSIGN TO 'INPUTFILENAME'.
    SELECT OUTPUT-FILE ASSIGN TO 'OUTPUTFILENAME'.

DATA DIVISION.
FILE SECTION.
FD INPUT-FILE.
01 INPUT-RECORD.
    05 INPUT-NAME PIC X(20).
    05 INPUT-AGE PIC 9(3).

FD OUTPUT-FILE.
01 OUTPUT-RECORD.
    05 OUTPUT-NAME PIC X(20).
    05 OUTPUT-AGE PIC 9(3).

WORKING-STORAGE SECTION.
01 TEMP-NAME PIC X(20).
01 TEMP-AGE PIC 9(3).

PROCEDURE DIVISION.
OPEN INPUT INPUT-FILE.
OPEN OUTPUT OUTPUT-FILE.

PERFORM UNTIL INPUT-RECORD = 'EOF'  // Loop until end of file is reached
    READ INPUT-FILE INTO INPUT-RECORD  // Read data from input file
    IF INPUT-AGE IS GREATER THAN 50
        ADD 1 TO TEMP-AGE  // Increase count of records with age over 50
        MOVE INPUT-NAME TO TEMP-NAME  // Move name to temporary variable
        WRITE OUTPUT-RECORD FROM INPUT-RECORD  // Write data to output file
    END-IF
END-PERFORM.

DISPLAY 'Number of records with age over 50: ' TEMP-AGE.
DISPLAY 'Name of last record with age over 50: ' TEMP-NAME.

CLOSE INPUT-FILE.
CLOSE OUTPUT-FILE.

STOP RUN.
// Output:
// Number of records with age over 50: 2
// Name of last record with age over 50: JOHN SMITH