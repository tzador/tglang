/* This is a code snippet for creating a linear regression model in SAS */

/* Import data from external file */
proc import datafile='C:\Users\data.csv'
     out=mydata
     dbms=csv
     replace;
     /* The above code imports the data from a CSV file and stores it as a SAS dataset called 'mydata' */

/* Create a linear regression model using the PROC REG procedure */
proc reg data=mydata;
     model salary = age education bonus; 
     /* The above line creates a model with three independent variables - age, education, and bonus - and one dependent variable - salary. Replace these with your own variables from the dataset. */
     /* The model statement tells SAS that you want to create a linear regression model using these variables. */
     /* By default, SAS will include an intercept term in the model, but you can use the 'noint' option to exclude it if desired. */
     /* The output of this model will include various statistics such as model coefficients, standard errors, and p-values. Use the 'outest' option to save these results in a dataset for future use. */
     /* You can also use the 'ods' option to output the results in a format suitable for publication, such as HTML or PDF. */
run;

/* Print the model diagnostics */
proc print data=mydata;
     /* The above line prints the dataset containing the model results saved using the 'outest' option. */
run;

/* Plot the regression line and data points */
proc sgplot data=mydata;
     /* The above line specifies the dataset containing the variables used in the model. */
     reg y=salary x=age;
     /* The above line creates a scatter plot with the independent variable 'age' on the x-axis and the dependent variable 'salary' on the y-axis. */
     /* The 'reg' statement adds a regression line to the plot. */
     /* You can use the 'label' option to specify the labels for the axes and title of the plot. */
     title 'Linear Regression Model for Salary Prediction';
run;

/* Save the plot as an image file */
ods graphics on;
ods html file='C:\Users\myplot.png';
/* The above two lines enable graphics and specify the file path and name for the plot. */
proc sgplot data=mydata;
     reg y=salary x=age;
run;
ods html close;
ods graphics off;
/* The above four lines create the plot and save it as a PNG file in the specified location. Use other formats like PDF or JPG as desired. */

/* Calculate the predicted values using the model coefficients */
data preds;
     /* The above line creates a new dataset called 'preds' to store the predicted values */
     set mydata;
     /* The 'set' statement tells SAS to use the same dataset on which the model was created */
     pred = _BETA0_ + _BETA1_*age + _BETA2_*education + _BETA3_*bonus;
     /* The above line calculates the predicted values using the model coefficients generated by SAS and stores them in a new variable called 'pred' */
run;