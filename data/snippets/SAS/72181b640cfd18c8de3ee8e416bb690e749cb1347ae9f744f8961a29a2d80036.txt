data new_data;
  set existing_data;
  where age > 20; *filtering out data where age is less than or equal to 20;
  by gender;
  format last_name $20. first_name $20.; *formatting last and first names to be a maximum of 20 characters;
  length address $50.; *setting character length for address to be a maximum of 50 characters;
  retain income; *retaining the income variable in the new dataset;
  if salary > 50000 then income = salary * 0.25; *calculating income based on a tax rate of 25% for salaries greater than 50000;
  else if salary <= 50000 then income = salary * 0.2; *calculating income based on a tax rate of 20% for salaries less than or equal to 50000;
run;