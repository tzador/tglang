* This code snippet calculates the mean of variable y for every distinct value of variable x;
data mean_table;
set input_data; *this reads in the input data;
by x; *this groups the data by the distinct values of x;
if first.x then do; *this creates a new row for each distinct value of x;
sum = y; *this initializes the sum variable as y;
n = 1; *this initializes the count variable as 1;
end; *end of the first.x if statement;
else do; *starting of the else statement;
sum+ = y; *this calculates the sum of y for each distinct value of x;
n+ = 1; *this adds 1 to the count variable for each observation;
end; *end of the else statement;
if last.x then do; *this checks if it is the last observation for each distinct value of x;
mean = sum/n; *this calculates the mean by dividing the sum by the count;
output; *this outputs the results;
end; *end of the last.x if statement;
keep x mean; *this keeps only the variables x and mean in the final table;
run; *this executes the code;