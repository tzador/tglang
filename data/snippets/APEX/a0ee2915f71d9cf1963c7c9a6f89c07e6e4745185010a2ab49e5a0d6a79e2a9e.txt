/**
 * This class contains methods to process and analyze data from a sales report.
 * It includes a custom object to store sales data and a method for creating a new record.
 */
public class SalesReportProcessor {

  // Define custom object for sales data
  public class SalesData {
    public String productName;
    public Integer unitsSold;
    public Decimal revenue;
  }

  /**
   * This method creates a new SalesData record and inserts it into the database.
   * @param productName The name of the product being sold.
   * @param unitsSold The number of units sold for the product.
   * @param revenue The total revenue generated by the product.
   * @return The new SalesData record created.
   */
  public SalesData createNewRecord(String productName, Integer unitsSold, Decimal revenue) {
    SalesData salesData = new SalesData();
    salesData.productName = productName;
    salesData.unitsSold = unitsSold;
    salesData.revenue = revenue;
    insert salesData;
    return salesData;
  }

  /**
   * This method retrieves all SalesData records from the database and calculates the average revenue.
   * @return The average revenue across all SalesData records.
   */
  public Decimal calculateAverageRevenue() {
    List<SalesData> salesDataList = [SELECT revenue FROM SalesData];
    Decimal totalRevenue = 0;
    for(SalesData data : salesDataList) {
      totalRevenue += data.revenue;
    }
    Decimal averageRevenue = totalRevenue / salesDataList.size();
    return averageRevenue;
  }
}