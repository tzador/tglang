%{
#include <stdio.h> // includes standard library header file
#include <stdlib.h> // includes standard library header file

char str[100];  // declares a character array
int i;  // declares an integer variable

%}

%token NUM // declares a terminal token called NUM

%%

exp : NUM { // declares a production rule called exp that matches NUM token
    printf("Value of EXP is: %d \n", $1); // prints the value of NUM token matched
}
| exp '*' exp  { // declares a production rule for multiplication
    printf("MULTIPLY: %d * %d \n", $1, $3); // prints the expression and operation performed
}
| exp '+' exp { // declares a production rule for addition
    printf("ADD: %d + %d \n", $1, $3); // prints the expression and operation performed
}
;

%%

int yyerror() { // defines a function for handling errors
    fprintf(stderr,"Syntax Error\n"); // prints an error message
    exit(1); // exits the program
}

int main() {

    printf("Enter an arithmetic expression: "); // prompts user for input
    scanf("%s", str); // reads input into character array

    printf("Parsing... \n"); // prints a message for parsing
    yyparse(); // calls the parser generated by bison

    printf("Parse Complete \n"); // prints completion message
    return 0; // exits the program
}