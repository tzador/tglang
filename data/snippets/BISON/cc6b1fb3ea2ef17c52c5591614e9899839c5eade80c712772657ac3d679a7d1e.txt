%{
    // This section is used for declarations and code that will be copied directly into the generated parser.
    #include <stdio.h>
    #include <math.h>
    int total = 0;
%}

// This section includes the grammar rules.
%token INT
%left PLUS MINUS
%left TIMES DIVIDE

%%
// This section includes the production rules.
// The following rule adds 1 to the total for each occurrence of the token INT.
// It also prints a statement with the current total.
expression:
    INT                         { total++; printf("%d\n", total); }
    | expression PLUS expression
    | expression MINUS expression
    | expression TIMES expression
    | expression DIVIDE expression
    ;
$$                          

// This section includes error handling.
// In this rule, any unexpected input will print an error message.
// If there are no errors, Bison will automatically invoke the yyerror() function.
%error-verbose
%%
int main() {
    // This section includes the program code.
    printf("Enter an expression: ");
    yyparse(); // This function is generated by Bison.
    printf("Total: %d\n", total);
    return 0;
}