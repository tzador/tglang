%{
#include <stdio.h>
#include <stdlib.h>

/* Start of comment section */
/***** Code generated by Bison 3.6.1. ****=/

int total = 0; // variable used to store the total value

%}

/*
    The input file for this Bison program is the following:

    3 * 5 + 2 / 4;
*/

%token NUM // token for numbers
%token PLUS // token for addition operation
%token MINUS // token for subtraction operation
%token MULT // token for multiplication operation
%token DIV // token for division operation

%%
/* define the grammar rules */
start : expr { printf("%d\n", $1); } ; // statement that starts the parsing process

expr : expr PLUS expr { $$ = $1 + $3; } // rule for addition
     | expr MINUS expr { $$ = $1 - $3; } // rule for subtraction
     | expr MULT expr { $$ = $1 * $3; } // rule for multiplication
     | expr DIV expr { $$ = $1 / $3; } // rule for division
     | NUM { $$ = $1; } // rule for numbers
     ;

%%

int main(int argc, char** argv) {
    yyparse(); // call the parser function
    return 0;
}

/* Function to handle syntax errors */
void yyerror(char* s) {
    fprintf(stderr, "%s\n", s);
    exit(EXIT_FAILURE);
}