// This code snippet demonstrates an example of a complex query in 1C Enterprise

/*
  ВЫБРАТЬ
    Контрагенты.Наименование КАК НоменклатураМенеджерТорговойПолитики,
    ПланПроизводства.Номенклатура КАК АналитическийУчетНоменклатуры,
    Остатки.ПроизводственныеОстаткиКоличества КАК ОстатокПроизводства,
    Заказы.Номер КАК НомерЗаказа,
    Заказы.Статус КАК СтатусЗаказа
  ИЗ
    РегистрНакопления.ПроизводственныеОстатки КАК Остатки
    ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.ЗаказыПроизводства КАК Заказы
      ПО Заказы.Номенклатура = Остатки.Номенклатура
      И Заказы.Статус = "В работе"
    ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Контрагенты КАК Контрагенты
      ПО Контрагенты.Наименование = Заказы.Контрагенты
    ЛЕВОЕ СОЕДИНЕНИЕ Справочник.ПланПроизводства КАК ПланПроизводства
      ПО ПланПроизводства.Номенклатура = Остатки.Номенклатура
  ГДЕ
    Остатки.Период = ДОБАВИТЬКДАТЕ(КОНЕЦНЕДЕЛИ(ДАТАВРЕМЯ(2021, 5, 16), -1), ДЕНЬ)
    И Контрагенты.ВидДеятельности = "Розничная торговля" 
    ИЛИ СТРДЛИННА(ПланПроизводства.Номенклатура) > 5
  УПОРЯДОЧИТЬ ПО
    Контрагенты.Наименование УБЫВ,
    ПланПроизводства.Номенклатура ВОЗР
*/

// Output:
/*
  КАК сокрКонтрагенты_Номенклатура
  КАК сокрПланПроизводства_Номенклатура
  КАК сокрОстатки_ПроизводственныеОстаткиКоличества
  КАК сокрЗаказы_Номер
  КАК сокрЗаказы_Статус
*/