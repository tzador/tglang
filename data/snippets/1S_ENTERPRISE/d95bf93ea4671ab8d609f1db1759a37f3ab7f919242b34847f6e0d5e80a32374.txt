&﻿НаКлиенте
Перем Параметры;
&НаКлиенте
Процедура ПолучитьДанные()
    ТаблицаДанных = СоздатьОбъект("ТаблицаЗначений");
    ТаблицаДанных.Колонки.Добавить("Код");
    ТаблицаДанных.Колонки.Добавить("Наименование");
    ДанныеОбъекта = Запрос.Выполнить().Выбрать();
    Пока ДанныеОбъекта.Следующий() Цикл
        СтрокаТаблицы = ТаблицаДанных.Добавить();
        СтрокаТаблицы.Код = ДанныеОбъекта.Код;
        СтрокаТаблицы.Наименование = ДанныеОбъекта.Наименование;
    КонецЦикла;
    Возврат ТаблицаДанных;
КонецПроцедуры

&НаКлиенте
Процедура ЗаполнитьДанные(Параметры)
    ТаблицаДанных = ПолучитьДанные();
    СписокЗначений = Новый СписокЗначений();
    Для Каждого СтрокаТаблицы Из ТаблицаДанных Цикл
        ЗначенияСписка = СписокЗначений.Добавить();
        Параметры.Вставить("Код", СтрокаТаблицы.Код);
        Параметры.Вставить("Наименование", СтрокаТаблицы.Наименование);
        РезультатЗапроса = Запрос.Выполнить(Параметры).Выбрать();
        Если РезультатЗапроса.Следующий() Тогда
            СтрокаТаблицы.Значение = РезультатЗапроса.Значение;
        КонецЕсли;
    КонецЦикла;
КонецПроцедуры

&НаКлиенте
Процедура ВыполнитьЗапрос(Параметры)
    СписокЗначений = Новый СписокЗначений();
    Для Каждого СтрокаТаблицы Из ТаблицаДанных Цикл
        ЗначенияСписка = СписокЗначений.Добавить();
        Параметры.Вставить("Код", СтрокаТаблицы.Код);
        Параметры.Вставить("Наименование", СтрокаТаблицы.Наименование);
        РезультатЗапроса = Запрос.Выполнить(Параметры);
    КонецЦикла;
КонецПроцедуры

&НаКлиенте
Процедура ОтобразитьДанные()
    ТаблицаДанных = ПолучитьДанные();
    Для Каждого СтрокаТаблицы Из ТаблицаДанных Цикл
        Форма.ЭлементыФормы.НовыйЭлемент("СтрочкаТабличнойЧасти").Значение = СтрокаТаблицы.Код + СтрокаТаблицы.Наименование;
        СтрокаТаблицы.Значение = Форма.ЭлементыФормы.ВыбратьРезылтатЗапроса();
        СтрокаТаблицы.Значение.Отбор.Вставить("Параметр", СтрокаТаблицы.Код + СтрокаТаблицы.Наименование);
    КонецЦикла;
КонецПроцедуры