#СЕРВИС
Процедура ПолучитьСуммуПоПериоду(НачПериод, КонПериод)
	
	#Если КонПериод <= НачПериод тогда
		Период = НачПериод;
	иначе
		Период = НачПериод + 1;

	НайденныеСчетаПоПериоду = Новый СписокЗначений;
	НайденныеСчетаПоПериоду.Добавить(НачПериод, 0);
	
	Пока Не КонецЦикла
		//Получаем список счетов по периоду
		Выбрать
			Счета.Счета КАК Счет,
			Счета.Сумма КАК Сумма
		Из
			Счета.Счеты КАК Счета
		Где
			Счета.Период = Период
		ВерноеОтветственный
		Цикл
		
		//Считаем сумму по счетам
		Сумма = 0;
		Для Каждого Счет Из Счета
			Сумма = Сумма + Счет.Сумма;
		КонецЦикла
		
		НайденныеСчетаПоПериоду.Добавить(Период, Сумма);
		
		//Переходим к следующему периоду
		Период = Период + 1;
		#Если Период > КонПериод тогда
			КонецЦикла = Истина;
		конецЕсли
	КонецЦикла
		
	//Вычисляем общую сумму за указанный период
	ОбщаяСумма = 0;
	Для Каждого Счет Из НайденныеСчетаПоПериоду
		ОбщаяСумма = ОбщаяСумма + Счет.Сумма;
	КонецЦикла
	
	Возврат ОбщаяСумма;

КонецПроцедуры