// This is a complex code snippet in 1C_Enterprise that creates a report based on multiple parameters

#Если Макет
#Тогда
	// Объявляем переменные
	Перем Параметр1, Параметр2, Параметр3, Параметр4, ТаблицаДанных, СтрокаДанных, Фильтр, Результат;
	
	// Предопределяем значения параметров
	Параметр1 = 123;
	Параметр2 = "без группировки";
	Параметр3 = "полное";
	Параметр4 = 10;
 
	// Создаем буферный документ
	ПервыйДокумент = СоздатьОбъект("Документ.Отчет_по_данным");

	// Устанавливаем параметры отчета
	ПервыйДокумент.Параметр1 = Параметр1;
	ПервыйДокумент.Параметр2 = Параметр2;
	ПервыйДокумент.Параметр3 = Параметр3;
	ПервыйДокумент.Параметр4 = Параметр4;

	// Выполняем формирование отчета
	Результат = ПервыйДокумент.Сформировать();

	// Если отчет сформирован успешно
	Если Результат.Код = 0 Тогда
		// Получаем данные отчета
		ТаблицаДанных = Результат.Данные.ТаблицаДанных;
 
		// Формируем заголовок таблицы с учетом параметров отчета
		Заголовок = "Отчет по данным (Параметр2: " + Строка(Параметр2) + ", Параметр3: " + Строка(Параметр3) + ", Параметр4: " + Строка(Параметр4) + ")" + Символы.ПС + Символы.ПС;

		// Добавляем заголовок в начало таблицы данных
		ТаблицаДанных.Встать(Заголовок, 1);

		// Добавляем столбец с фильтром к данным
		ТаблицаДанных.ДобавитьПоле("Фильтр", Фильтр);
		
		// Проходим по каждой строке данных и добавляем нужную информацию в столбец фильтр
		Для Каждого СтрокаДанных Из ТаблицаДанных Цикл
			// Получаем значение параметра 1 для текущей строки
			Значение1 = СтрокаДанных.Параметр1;
			
			// Получаем значение параметра 2 для текущей строки
			Значение2 = СтрокаДанных.Параметр2;
			
			// Получаем значение параметра 3 для текущей строки
			Значение3 = СтрокаДанных.Параметр3;
			
			// Формируем строку фильтра с учетом значений параметров текущей строки
			Фильтр = "Фильтр1 = " + Значение1 + " и Фильтр2 = '" + Значение2 + "' и Фильтр3 = " + Значение3 + ";" + Символы.ПС;
			
			// Добавляем сформированный фильтр в столбец фильтр текущей строки
			СтрокаДанных.Фильтр = Фильтр;
		КонецЦикла;
		
		// Форматируем таблицу данных по значению параметра 2
		Выбирать ТаблицаДанных Где Параметр2 = "без группировки"
		И Отбирать Значжение1, Значение2, Значение3 
		Записать В Документ;
	Иначе
		Выбирать ТаблицаДанных Где Параметр2 <> "без группировки"
		И Отбирать Значжение1, Значение2, Значение3 
		Записать В Документ;
	КонецЕсли;
 
	// Выводим отчет на экран
	ПервыйДокумент.Вывести();
 
#Конец если

/*
В данном примере мы создаем отчет с названием "Отчет по данным", в котором передаем 4 параметра (Параметр1, Параметр2, Параметр3, Параметр4) для формирования таблицы данных. Параметры задают значения параметров текущей строки и формируют заголовок таблицы с учетом этих значений. Затем мы пробегаем по каждой строке таблицы и добавляем нужную информацию в столбец фильтр, который используется для фильтрации данных в таблице. На последнем шаге мы форматируем таблицу в зависимости от значения параметра 2 и выводим отчет на экран.
*/