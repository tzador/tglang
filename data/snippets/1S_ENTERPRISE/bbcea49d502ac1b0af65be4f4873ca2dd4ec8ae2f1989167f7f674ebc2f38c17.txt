Инициализация
Перем Контрагенты - СписокЗначений; // Объявление переменной типа СписокЗначений

Запрос = Новый Запрос; // Создание нового запроса
Запрос.Текст = 	
	"ВЫБРАТЬ ИДЕНТИФИКАТОР Контрагенты" + // Заполняем текст запроса
	"ИЗ КонтактныеЛицаКонтрагентов"; // Записываем SQL запрос в запроса

ВыборкаКонтактныхДанных = Запрос.Выполнить().Выбрать(ЭффективныйИдентификатор); 
// Выполняем запрос и получаем выборку контактных данных

Пока ВыборкаКонтактныхДанных.Следующий() Цикл //Цикл по всем элементам выборки
	Перем НомерТелефона;
	НомерТелефона = ВыборкаКонтактныхДанных.Поле("НомерТелефона"); //Считываем значение поля "НомерТелефона"
	Если НомерТелефона.Длина > 10 Тогда // Проверяем длину номера телефона
		СтрокаНомер = НомерТелефона.Подстрока(1, 10); // Оставляем только первые 10 символов
		НомерТелефона.Значение = СтрокаНомер; // Записываем измененное значение в поле "НомерТелефона"
	КонецЕсли;
КонецЦикла;

Запрос.УстановитьПараметр("Дата", ТекущаяДата()); // Добавляем параметр в запрос

ВыборкаКонтрагентов = Запрос.Выполнить().Выбрать();
// Выполняем запрос и получаем выборку контрагентов

Пока ВыборкаКонтрагентов.Следующий() Цикл // Цикл по всем элементам выборки
	Перем ТипКонтрагента;
	ТипКонтрагента = ВыборкаКонтрагентов.Поле("ТипКонтрагента"); // Считываем значение поля "ТипКонтрагента"
	Если ТипКонтрагента = "Юридическое Лицо" Тогда // Проверяем тип контрагента
		ТипКонтрагента = "Юр. Лицо"; // Заменяем значение на сокращенное
	Иначе
		ТипКонтрагента = "Физ. Лицо";
	КонецЕсли;
КонецЦикла;

Вывод = ВыборкаКонтрагентов.Группировать(ТипКонтрагента); // Группируем контрагентов по типам контрагентов
Вывод.ДобавитьСтолбец("Дата", "Дата", ВидВывода.ДатаВремя); // Добавляем столбец с датой приема в список вывода
Вывод.Отобразить(); // Отображаем список контрагентов с датой приема