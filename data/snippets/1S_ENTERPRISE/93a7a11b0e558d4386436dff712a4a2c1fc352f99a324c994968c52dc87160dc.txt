#Comment
Результат = Массив();
Товары = Новый Массив();
Склад = Справочники.Склады.НайтиПоНаименованию("ОсновнойСклад");
Номенклатура = Справочники.Номенклатура.НайтиПоКоду("12345");
СкладНоменклатуры = Справочники.Склады.НайтиПоНаименованию("СкладНоменклатуры");
НоменклатураНаСкладе = Перечисления.ВидыНоменклатуры.Продукт;
Цена = 100;
Количество = 50;
НДС = 20;

Для Каждого Товар Из Товары Цикл
	Товар.СкладНоменклатуры = СкладНоменклатуры;
	Товар.Номенклатура = Номенклатура;
	Товар.Склад = Склад;
	Товар.Количество = Количество;
	Товар.Цена = Цена;
КонецЦикла;

Товар = Товары.Добавить();
Товар.СкладНоменклатуры = СкладНоменклатуры;
Товар.Номенклатура = Номенклатура;
Товар.Склад = Склад;
Товар.Количество = Количество;
Товар.Цена = Цена;
Товар.Сумма = Количество * Цена * (1 + НДС/100);

ПересчетТоваровНаСкладе(Товары);

Для Каждого Товар Из Товары Цикл
	Если Товар.Количество < 50 Тогда
		Если Товар.Номенклатура.Вид = НоменклатураНаСкладе Тогда
			Результат.Добавить(Товар);
		КонецЕсли;
	КонецЕсли;
КонецЦикла;

Если Результат.Количество() > 0 Тогда
	Документ = Документы.Продажи.СоздатьДокумент("Заказ на продажу");
	Документ.Номенклатура = Результат[0].Номенклатура;
	Документ.Количество = Результат[0].Количество;
КонецЕсли;

ВызовФункции(Документ);