// This is a complex code snippet in 1C_ENTERPRISE - a Russian business management and ERP programming language created by 1C company

#Если дляКадровогоУчетаИЗИМЕНИТЬТабельныйНомер(sКодСотрудника) Тогда // Обработка таблицы сотрудников на предмет изменений табельного номера
    Перем ДанныеСотрудник, НовыйТабельныйНомер, СотрудникИзменен, ТабельныйНомерСтарый, ТабельныйНомерНовый, ОтчетОбОшибке;
    ДанныеСотрудник = Справочники.Сотрудники.НайтиПоКоду(sКодСотрудника); // Найти сотрудника по коду
    СотрудникИзменен = Ложь; // Флаг, указывающий на изменение сотрудника
    НовыйТабельныйНомер = 0; // Переменная для нового табельного номера
    ТабельныйНомерСтарый = ДанныеСотрудник.ТабельныйНомер; // Получить старый табельный номер сотрудника
    ТабельныйНомерНовый = ПолучитьНовыйТабельныйНомер(ТабельныйНомерСтарый); // Вызвать функцию для генерации нового табельного номера
    ЕСЛИ ТабельныйНомерСтарый <> ТабельныйНомерНовый // Проверка на уникальность номера
        НовыйТабельныйНомер = ТабельныйНомерНовый;
    КОНЕЦЕСЛИ;
    ЕСЛИ НовыйТабельныйНомер = 0 // Проверка на существование нового табельного номера
        ОтчетОбОшибке = "Ошибка! Новый табельный номер не был сгенерирован. Проверьте функцию."
        Вывести(ОтчетОбОшибке); // Вывод сообщения об ошибке
    КОНЕЦЕСЛИ;
    Если НовыйТабельныйНомер <> 0 Тогда // Если новый табельный номер сгенерирован
        ДанныеСотрудник.ТабельныйНомер = НовыйТабельныйНомер; // Изменить табельный номер сотрудника
        СотрудникИзменен = Истина; // Установить флаг изменения
    КОНЕЦЕСЛИ;
КонецЕсли;