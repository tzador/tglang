set i "widgets available in inventory";
set j "production plants";
set h "months";
parameter p(i) "profit per widget";
parameter c(j) "total production capacity";
parameter d(i,h) "demand for widget i in month h";
binary variables x(i,j,h) "amount of widget i produced at plant j in month h";
scalar objective "total profit";
objective = sum((i,h),p(i)*sum(j,x(i,j,h)));
subject to capacity(j,h)..sum(i,x(i,j,h)) =l= c(j);
subject to demand(i,h)..sum(j, x(i,j,h)) =g= d(i,h);
solve;
display x;