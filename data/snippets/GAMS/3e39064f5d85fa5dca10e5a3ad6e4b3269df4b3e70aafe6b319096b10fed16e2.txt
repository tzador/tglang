set I 'sets of products' /A, B, C, D/;
set J 'sets of production units' /P1, P2, P3, P4/;
set T 'sets of time intervals' /t1*t3/;
parameter Dmax(I) 'maximum production capacity of each product' / A 100, B 200, C 300, D 150 /;
parameter Pcost(J) 'production cost in each production unit' / P1 10, P2 15, P3 12, P4 8 /;
set Pmax(I,J) 'maximum production capacity in each production unit';
Pmax(I,J) = 1000;
variable x(I,J,T) 'amount of product i produced in production unit j during time t';
positive variable z 'total production cost';
equations prod_capacity(I,J,T) 'ensure production doesn't exceed capacity';
prod_capacity(I,J,T).. sum(T, x(I,J,T)) =l= Pmax(I,J);
equations obj 'objective function to minimize production cost';
obj.. z =e= sum((I,J,T), Pcost(J)*x(I,J,T));
model prod_optimization /all/;
solve prod_optimization minimizing z;
display x.l, z.l;