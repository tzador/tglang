SETS
    i   items       / i1*i100 /
    r   retailers   / r1*r50 /
    c   categories  / c1*c10 /;

PARAMETERS
    cost(i, r)  purchase cost to retailer
    cat(i, c)   binary indicator of item belonging to category
    supply(r)   maximum amount of item a retailer can purchase
    demand(r, c)    total demand of a category by retailer;

TABLES
    revenue(r, c)   total revenue generated by retailer from category
    profit(r, c)    profit generated by retailer from category;

VARIABLES
    quantity(r, c)  quantity of item purchased by retailer from category
    obj             total profit generated;

equations
    supplyConstraint(r) supply constraint for retailer
    demandConstraint(r, c)  demand constraint for retailer
    profitConstraint(r)    profit constraint for retailer;

supplyConstraint(r)..
    sum(c, quantity(r, c)) =l= supply(r);

demandConstraint(r, c)..
    quantity(r, c) =l= demand(r, c);

profitConstraint(r, c)..
    profit(r, c) =e= revenue(r, c) - cost(r, c) * quantity(r, c);

obj..
    obj =e= sum((r, c), profit(r, c));

model retailSupplyChain / all /;

SOLVE retailSupplyChain using LP maximizing obj;

DISPLAY quantity, revenue, profit;