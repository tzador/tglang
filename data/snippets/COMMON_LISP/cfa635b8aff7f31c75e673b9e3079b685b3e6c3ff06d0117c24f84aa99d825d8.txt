(defun bubble-sort (list)
  "Bubble sort implementation in Common Lisp."
  (let ((sorted-list (copy-list list)))
    (do ((i (length sorted-list) (1- i)))
        ((positive-p i) sorted-list)
      (do ((j 0 (1+ j)))
          ((< j i))
        (when (> (nth j sorted-list) (nth (1+ j) sorted-list))
          (rotatef (nth j sorted-list) (nth (1+ j) sorted-list))
          (setf j (max 0 (1- j))))))))